<!DOCTYPE html>
<html>
<head>
    <title>Live Filter Toggles</title>
</head>
<body>
    <h2>Live Camera Filter</h2>

    <label>
      <input type="checkbox" id="glassesToggle" onchange="updateFilter()">
      Glasses
    </label>
    <label>
      <input type="checkbox" id="moustacheToggle" onchange="updateFilter()">
      Moustache
    </label>

    <br><br>
    <img id="video" src="{{ url_for('video_feed') }}?glasses=0&moustache=0" style="max-width: 100%;">

    <script>
        function updateFilter() {
            const glassesOn = document.getElementById('glassesToggle').checked ? 1 : 0;
            const moustacheOn = document.getElementById('moustacheToggle').checked ? 1 : 0;

            const video = document.getElementById('video');
            video.src = `/video_feed?glasses=${glassesOn}&moustache=${moustacheOn}&_=${new Date().getTime()}`;
        }
    </script>
</body>
</html>
